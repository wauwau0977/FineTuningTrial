The initial `if` statement is a crucial validation step to ensure that the necessary configuration values are present before attempting to send an email. It checks if `mailSender`, `mailPassword`, or `receiverMails` are empty using `StringUtils.isEmpty()`.

It's important to perform this check because the email sending process relies on these values to function correctly. If any of these values are missing or empty, the email cannot be sent, and attempting to do so would likely result in an exception or error.  By proactively validating these values, the method can prevent unexpected errors and provide a more informative error message to the user or administrator.

If the condition `StringUtils.isEmpty(mailSender) || StringUtils.isEmpty(mailPassword) || StringUtils.isEmpty(receiverMails)` evaluates to `true`, a `ThException` is thrown with the message "Did not send email, as the configuration was invalid or no receiver was given.". This custom exception allows the calling code to specifically handle the case where the email configuration is invalid, rather than dealing with a more generic exception. It's a clear indication that the problem isn't with the sending process itself, but with the setup of the email service.